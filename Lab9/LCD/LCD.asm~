;Write a program to display a message which is more than 16 characters

ORG 00H
SJMP MAIN
MYDATA:	DB 'The Undecided Cloudburst Scintillations$'

MAIN:	MOV A,#38H
	ACALL CMDWRITE
	ACALL DELAY
	MOV A,#06H
	ACALL CMDWRITE
	ACALL DELAY
	MOV A,#0EH
	ACALL CMDWRITE
	ACALL DELAY
	MOV A,#01H
	MOV R6,#100
	ACALL CMDWRITE
BACK:	ACALL DELAY
	DJNZ R6,BACK

MOV R0,#16	;COUNTER

MOV A,#80H
ACALL CMDWRITE
ACALL DELAY

	MOV DPTR,#MYDATA
UP:	CLR A
	MOVC A,@A+DPTR
	CJNE A,'$',DOWN
	SJMP $

DOWN:	ACALL DATAWRITE
	ACALL DELAY
	INC DPTR
	DJNZ R0,UP	;16 CHARACTERS DONE

MOV A,#0C0H	;INITIALIZE NEXT LINE OF LCD
ACALL CMDWRITE
ACALL DELAY
SJMP UP

CMDWRITE:	MOV P0,A
		CLR P1.0
		CLR P1.1
		SETB P1.2
		NOP
		NOP
		CLR P1.2
		RET

DATAWRITE:	SETB P1.0
		CLR P1.1
		MOV P0,A
		SETB P1.2
		NOP
		NOP
		NOP
		CLR P1.2
		RET

DELAY:		MOV R0,#50
LABEL:		DJNZ R0,LABEL
		RET


END